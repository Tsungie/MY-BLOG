<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Technology Blog</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fafafa 0%, #f5f7fa 100%);
            color: #2d2d2d;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        /* Subtle background accent */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(124, 58, 237, 0.03) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(96, 165, 250, 0.03) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }

        .handwriting {
            font-family: 'Caveat', cursive;
            font-weight: 500;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Section */
        .header {
            padding: 60px 0;
            position: relative;
        }

        .header-content {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 40px;
            align-items: center;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 20px;
            color: #2d2d2d;
        }

        .hero-text p {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
            max-width: 500px;
        }

        .cta-button {
            background: #2d2d2d;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-right: 15px;
            margin-bottom: 10px;
        }

        .cta-button:hover {
            background: #444;
            transform: translateY(-2px);
        }

        .cta-secondary {
            background: transparent;
            color: #2d2d2d;
            border: 2px solid #2d2d2d;
        }

        .cta-secondary:hover {
            background: #2d2d2d;
            color: white;
        }

        .cta-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid #e1c4fd;
            position: relative;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        /* What I do Section */
        .what-i-do {
            padding: 80px 0;
            position: relative;
        }

        .section-title {
            font-family: 'Caveat', cursive;
            font-size: 2.5rem;
            color: #7c3aed;
            margin-bottom: 50px;
            position: relative;
        }

        .arrow {
            position: absolute;
            width: 40px;
            height: 40px;
            margin-left: 20px;
            margin-top: -10px;
        }

        .arrow svg {
            width: 100%;
            height: 100%;
            stroke: #2d2d2d;
            stroke-width: 2;
            fill: none;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .service-card {
            padding: 40px 30px;
            border-radius: 20px;
            position: relative;
            transform: rotate(-2deg);
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .service-card:nth-child(1) {
            background: linear-gradient(135deg, #fef3c7, #fcd34d);
            transform: rotate(-2deg);
        }

        .service-card:nth-child(2) {
            background: linear-gradient(135deg, #bfdbfe, #60a5fa);
            transform: rotate(1deg);
        }

        .service-card:nth-child(3) {
            background: linear-gradient(135deg, #f3e8ff, #c084fc);
            transform: rotate(-1deg);
        }

        .service-card:nth-child(4) {
            background: linear-gradient(135deg, #fde68a, #f59e0b);
            transform: rotate(0.5deg);
        }

        .service-card:hover {
            transform: rotate(0deg) scale(1.05);
            z-index: 10;
        }

        .service-tag {
            background: rgba(255,255,255,0.8);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            position: absolute;
            top: -10px;
            right: 20px;
            color: #2d2d2d;
        }

        .service-icon {
            width: 50px;
            height: 50px;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .service-card h3 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #2d2d2d;
        }

        .service-card p {
            color: #444;
            line-height: 1.6;
        }

        /* Blog Posts Section */
        .blog-posts {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.8);
            border-top: 3px solid #e1c4fd;
            border-bottom: 3px solid #e1c4fd;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .blog-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 60px;
            align-items: start;
        }

        .blog-intro h2 {
            font-family: 'Caveat', cursive;
            font-size: 2.5rem;
            color: #7c3aed;
            margin-bottom: 20px;
        }

        .blog-intro p {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 30px;
        }

        .blog-stats {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 600;
            text-align: center;
        }

        .search-filter {
            margin-bottom: 30px;
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .search-box:focus {
            outline: none;
            border-color: #7c3aed;
        }

        .tag-filter {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag-btn {
            padding: 6px 12px;
            background: #f3f4f6;
            border: 2px solid transparent;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .tag-btn.active,
        .tag-btn:hover {
            background: #7c3aed;
            color: white;
            border-color: #7c3aed;
        }

        /* Timeline Layout */
        .timeline {
            position: relative;
            padding-left: 40px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e1c4fd;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .timeline-item:hover {
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .timeline-number {
            position: absolute;
            left: -60px;
            top: 30px;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.5rem;
            color: #2d2d2d;
        }

        .timeline-number.yellow { background: #fcd34d; }
        .timeline-number.blue { background: #60a5fa; }
        .timeline-number.purple { background: #c084fc; }

        .post-header {
            margin-bottom: 15px;
        }

        .post-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #2d2d2d;
        }

        .post-meta {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .post-preview {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .post-content-full {
            color: #555;
            line-height: 1.7;
            white-space: pre-line;
            margin-bottom: 20px;
            display: none;
        }

        .post-content-full.expanded {
            display: block;
        }

        .post-tags {
            margin-bottom: 15px;
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            max-height: 60px;
            overflow: hidden;
            position: relative;
        }

        .post-tags.expanded {
            max-height: none;
        }

        .post-tag {
            background: #e1c4fd;
            color: #7c3aed;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .tags-toggle {
            background: none;
            border: none;
            color: #7c3aed;
            cursor: pointer;
            font-size: 0.75rem;
            padding: 3px 6px;
            text-decoration: underline;
            margin-left: 5px;
        }

        .tags-compact {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .primary-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .tags-count {
            background: #f3f4f6;
            color: #666;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            cursor: pointer;
            border: 1px dashed #ccc;
        }

        .tags-count:hover {
            background: #e5e7eb;
        }

        .post-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .expand-btn {
            background: transparent;
            color: #7c3aed;
            border: 2px solid #7c3aed;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .expand-btn:hover {
            background: #7c3aed;
            color: white;
        }

        .btn-small {
            background: #7c3aed;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-small:hover {
            background: #6d28d9;
            transform: translateY(-1px);
        }

        .no-posts {
            text-align: center;
            color: #888;
            font-style: italic;
            padding: 60px 20px;
        }

        /* Contact Section */
        .contact {
            padding: 80px 0;
            position: relative;
        }

        .contact-content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 60px;
            align-items: start;
        }

        .contact-intro h2 {
            font-family: 'Caveat', cursive;
            font-size: 2.5rem;
            color: #7c3aed;
            margin-bottom: 20px;
        }

        .contact-intro p {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 20px;
        }

        .contact-form {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2d2d2d;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #7c3aed;
            background: white;
        }

        .form-group.yellow input { background: linear-gradient(135deg, #fef3c7, #fcd34d); }
        .form-group.blue input { background: linear-gradient(135deg, #bfdbfe, #60a5fa); }
        .form-group.purple textarea { background: linear-gradient(135deg, #f3e8ff, #c084fc); }

        .submit-btn {
            background: #2d2d2d;
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            background: #444;
            transform: translateY(-2px);
        }

        /* Decorative elements */
        .decoration {
            position: absolute;
            opacity: 0.1;
            pointer-events: none;
        }

        .star {
            width: 30px;
            height: 30px;
            color: #7c3aed;
        }

        /* Modal for full post view */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #888;
        }

        .close:hover {
            color: #333;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content,
            .contact-content,
            .blog-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .hero-text h1 {
                font-size: 2.5rem;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .search-filter {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                min-width: auto;
            }

            .timeline {
                padding-left: 20px;
            }

            .timeline-number {
                left: -40px;
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="hero-text">
                    <h1>I build healthcare technology that saves lives</h1>
                    <p>Transforming healthcare delivery across Africa through innovative EHR systems and digital health solutions.</p>
                    <div class="cta-buttons">
                        <a href="https://your-cv-link-here.com" target="_blank" class="cta-button">📄 View My CV</a>
                        <a href="#contact" class="cta-button cta-secondary">💬 Let's Connect</a>
                    </div>
                </div>
                <div class="avatar">
                    <!-- Replace this placeholder with your actual image -->
                    <img src="your-photo.jpg" alt="Healthcare Technology Expert" style="display: none;" onload="this.style.display='block'; this.nextElementSibling.style.display='none';">
                    <div class="avatar-placeholder">
                        <div>👨‍💻</div>
                        <div>Healthcare</div>
                        <div>Tech Expert</div>
                    </div>
                </div>
            </div>
            
            <!-- Decorative elements -->
            <div class="decoration star" style="top: 20px; right: 100px;">⭐</div>
            <div class="decoration star" style="top: 80px; left: 50px;">💫</div>
        </header>

        <!-- What I Do Section -->
        <section class="what-i-do">
            <h2 class="section-title handwriting">
                What I do?
                <span class="arrow">
                    <svg viewBox="0 0 40 40">
                        <path d="M5 20 Q15 10, 25 20 Q30 25, 35 15" stroke-linecap="round"/>
                        <path d="M30 12 L35 15 L32 20" stroke-linecap="round"/>
                    </svg>
                </span>
            </h2>

            <div class="services-grid">
                <div class="service-card">
                    <div class="service-tag">8+ Years</div>
                    <div class="service-icon">💻</div>
                    <h3>Healthcare Software Developer</h3>
                    <p>Build robust, offline-capable healthcare applications that work in challenging environments. Specialize in biometric patient identification, real-time lab integration, and clinical workflow optimization for African healthcare settings.</p>
                </div>

                <div class="service-card">
                    <div class="service-tag">700+ Facilities</div>
                    <div class="service-icon">🏥</div>
                    <h3>EHR Implementation Specialist</h3>
                    <p>Lead Electronic Health Record deployments across 700+ healthcare facilities. Excel at training healthcare workers, managing digital transformation, and ensuring successful adoption in resource-constrained environments.</p>
                </div>

                <div class="service-card">
                    <div class="service-tag">Africa Focus</div>
                    <div class="service-icon">🌍</div>
                    <h3>Digital Health Consulting</h3>
                    <p>Help healthcare organizations navigate digital transformation with Africa-specific strategies. Address infrastructure challenges, user adoption hurdles, and sustainability concerns that make or break health tech projects.</p>
                </div>

                <div class="service-card">
                    <div class="service-tag">Pre-Planning</div>
                    <div class="service-icon">🎯</div>
                    <h3>EHR Project Advisory</h3>
                    <p>Strategic guidance for organizations planning EHR implementations. Help you identify critical considerations, avoid common pitfalls, and establish realistic timelines before investing in healthcare technology systems.</p>
                </div>
            </div>
        </section>

        <!-- Blog Posts Section -->
        <section class="blog-posts">
            <div class="blog-content">
                <div class="blog-intro">
                    <h2 class="handwriting">Latest Insights
                        <span class="arrow">
                            <svg viewBox="0 0 40 40" style="margin-left: 10px;">
                                <path d="M5 25 Q15 15, 25 25 Q30 30, 35 20" stroke-linecap="round"/>
                                <path d="M30 17 L35 20 L32 25" stroke-linecap="round"/>
                            </svg>
                        </span>
                    </h2>
                    <p>Sharing healthcare technology insights and implementation experiences across Africa.</p>
                    
                    <div class="blog-stats" id="blogStats">
                        📝 Posts: 0
                    </div>
                    
                    <div class="search-filter">
                        <input type="text" class="search-box" id="searchBox" placeholder="🔍 Search posts...">
                        <div class="tag-filter" id="tagFilter">
                            <button class="tag-btn active" data-tag="all">All</button>
                        </div>
                    </div>
                </div>

                <div class="timeline" id="postsContainer">
                    <div class="no-posts">
                        <p>No posts yet. Check back soon for healthcare technology insights!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact" id="contact">
            <div class="contact-content">
                <div class="contact-intro">
                    <h2 class="handwriting">Contact here
                        <span class="arrow">
                            <svg viewBox="0 0 40 40">
                                <path d="M5 20 Q15 30, 25 20 Q30 15, 35 25" stroke-linecap="round"/>
                                <path d="M30 22 L35 25 L32 30" stroke-linecap="round"/>
                            </svg>
                        </span>
                    </h2>
                    <p>Have a healthcare technology project?</p>
                    <p class="handwriting" style="font-size: 1.3rem; color: #7c3aed; margin-bottom: 25px;">Just say me <strong>Hi</strong>.</p>
                    
                    <div style="margin-bottom: 30px;">
                        <a href="https://your-cv-link-here.com" target="_blank" class="cta-button" style="margin-right: 0; width: 100%; text-align: center;">
                            📄 Download My Full CV
                        </a>
                    </div>
                    
                    <div style="text-align: center; margin: 20px 0; color: #888; font-style: italic;">
                        — or —
                    </div>
                </div>

                <form class="contact-form" name="contact" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
                    <!-- Hidden field for spam protection -->
                    <input type="hidden" name="bot-field" />
                    
                    <div class="form-group yellow">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" placeholder="Your name here..." required>
                    </div>

                    <div class="form-group blue">
                        <label for="email">Your email</label>
                        <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
                    </div>

                    <div class="form-group purple">
                        <label for="project">About Project</label>
                        <textarea id="project" name="message" rows="4" placeholder="Tell me about your healthcare technology project..." required></textarea>
                    </div>

                    <button type="submit" class="submit-btn">Send Message</button>
                </form>
            </div>

            <!-- Decorative elements -->
            <div class="decoration star" style="top: 50px; right: 200px;">🏥</div>
            <div class="decoration star" style="bottom: 100px; left: 100px;">💻</div>
        </section>
    </div>

    <!-- Modal for viewing full post -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        class HealthcareBlog {
            constructor() {
                this.posts = this.loadPosts();
                this.currentFilter = 'all';
                this.searchQuery = '';
                this.init();
            }

            init() {
                this.initializePosts();
                this.bindEvents();
                this.render();
                this.updateStats();
                this.renderTagFilter();
            }

            initializePosts() {
                if (this.posts.length === 0) {
                    const samplePosts = [
                        {
                            id: 1,
                            content: `🏥 8 years ago, I started working on what would become Zimbabwe's national Electronic Health Record system.

Today, that system serves 7+ million patients across 700+ health facilities.

Here's what I learned about healthcare technology implementation:

✅ Healthcare workers are the real heroes - technology just empowers them
✅ User training is MORE important than perfect code
✅ Offline capabilities are essential for rural healthcare settings
✅ Biometric patient identification prevents medical errors
✅ Real-time lab integration saves lives through faster diagnosis

The most rewarding moment? Watching a nurse in a rural clinic access a patient's complete medical history in seconds - something that took hours before.

Building healthcare technology isn't just about coding. It's about understanding clinical workflows, patient safety, and the human side of healthcare.

Currently exploring opportunities to bring this healthcare systems expertise to new projects and organizations.

What healthcare technology challenges are you working on?

#HealthcareIT #EHR #HealthcareTechnology #SoftwareDevelopment #HealthcareInnovation #DigitalHealth #AfricaHealthcare #HealthcareConsulting`,
                            tags: ['HealthcareIT', 'EHR', 'HealthcareTechnology', 'SoftwareDevelopment', 'HealthcareInnovation', 'DigitalHealth', 'AfricaHealthcare', 'HealthcareConsulting'],
                            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 2,
                            content: `💡 "The biggest myth about EHR implementation? That it's a technology problem.

It's actually a people problem.

After leading EHR rollouts across 3 provinces, here's what actually matters:

→ Change management trumps perfect software
→ Healthcare worker buy-in beats technical features
→ Simple workflows win over complex capabilities
→ Local champions matter more than vendor support

The technology is just the tool. Success comes from understanding how healthcare workers actually work.

#HealthcareImplementation #ChangeManagement #EHR`,
                            tags: ['HealthcareImplementation', 'ChangeManagement', 'EHR'],
                            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
                        },
                        {
                            id: 3,
                            content: `🔒 Healthcare data security isn't just about compliance - it's about patient trust.

When building Zimbabwe's national EHR system, we implemented:

- Biometric authentication for healthcare workers
- End-to-end encryption for patient data
- Role-based access controls
- Audit trails for every data access

But the real security comes from healthcare workers understanding WHY these measures matter.

Every patient record represents someone's mother, father, child. That's the mindset that creates truly secure healthcare systems.

#HealthcareSecurity #PatientPrivacy #HIPAA #HealthcareCompliance`,
                            tags: ['HealthcareSecurity', 'PatientPrivacy', 'HIPAA', 'HealthcareCompliance'],
                            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString()
                        }
                    ];

                    this.posts = samplePosts;
                    this.savePosts();
                }
            }

            bindEvents() {
                document.getElementById('searchBox').addEventListener('input', (e) => this.handleSearch(e));
                document.getElementById('closeModal').addEventListener('click', () => this.closeModal());
                
                // Close modal when clicking outside
                document.getElementById('postModal').addEventListener('click', (e) => {
                    if (e.target.id === 'postModal') this.closeModal();
                });
            }

            handleSearch(e) {
                this.searchQuery = e.target.value.toLowerCase();
                this.render();
            }

            handleTagFilter(tag) {
                this.currentFilter = tag;
                this.renderTagFilter();
                this.render();
            }

            render() {
                const container = document.getElementById('postsContainer');
                let filteredPosts = this.posts;

                // Filter by tag
                if (this.currentFilter !== 'all') {
                    filteredPosts = filteredPosts.filter(post => 
                        post.tags.some(tag => tag.toLowerCase() === this.currentFilter.toLowerCase())
                    );
                }

                // Filter by search query
                if (this.searchQuery) {
                    filteredPosts = filteredPosts.filter(post => 
                        post.content.toLowerCase().includes(this.searchQuery) ||
                        post.tags.some(tag => tag.toLowerCase().includes(this.searchQuery))
                    );
                }

                if (filteredPosts.length === 0) {
                    container.innerHTML = `
                        <div class="no-posts">
                            <p>${this.searchQuery || this.currentFilter !== 'all' ? 'No posts match your search criteria.' : 'No posts yet. Check back soon for healthcare technology insights!'}</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = filteredPosts.map((post, index) => {
                    const preview = this.getPostPreview(post.content, 150);
                    const colorClass = ['yellow', 'blue', 'purple'][index % 3];
                    
                    // Smart tag display - show max 3 primary tags + count
                    const primaryTags = post.tags.slice(0, 3);
                    const remainingCount = post.tags.length - 3;
                    
                    return `
                        <div class="timeline-item" id="post-${post.id}">
                            <div class="timeline-number ${colorClass}">${index + 1}</div>
                            <div class="post-header">
                                <div class="post-title">Healthcare Technology Insight</div>
                                <div class="post-meta">📅 ${new Date(post.createdAt).toLocaleDateString()}</div>
                            </div>
                            <div class="post-preview">${preview.text}${preview.hasMore ? '...' : ''}</div>
                            <div class="post-content-full" id="content-${post.id}">
                                ${post.content}
                            </div>
                            
                            <div class="tags-compact">
                                <div class="primary-tags">
                                    ${primaryTags.map(tag => `<span class="post-tag">#${tag}</span>`).join('')}
                                    ${remainingCount > 0 ? `<span class="tags-count" onclick="blog.toggleTags(${post.id})">+${remainingCount} more</span>` : ''}
                                </div>
                            </div>
                            
                            <div class="post-tags" id="all-tags-${post.id}" style="display: none;">
                                ${post.tags.map(tag => `<span class="post-tag">#${tag}</span>`).join('')}
                            </div>
                            
                            <div class="post-actions">
                                ${preview.hasMore ? `<button class="expand-btn" onclick="blog.togglePost(${post.id})" id="toggle-${post.id}">📖 Read Full Post</button>` : ''}
                                <button class="btn-small" onclick="blog.copyPost(${post.id})">📋 Copy for LinkedIn</button>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            toggleTags(id) {
                const allTags = document.getElementById(`all-tags-${id}`);
                const tagsCount = document.querySelector(`#post-${id} .tags-count`);
                
                if (allTags.style.display === 'none') {
                    allTags.style.display = 'flex';
                    tagsCount.textContent = 'Show less';
                } else {
                    allTags.style.display = 'none';
                    const post = this.posts.find(p => p.id === id);
                    const remainingCount = post.tags.length - 3;
                    tagsCount.textContent = `+${remainingCount} more`;
                }
            }

            togglePost(id) {
                const content = document.getElementById(`content-${id}`);
                const button = document.getElementById(`toggle-${id}`);
                const preview = content.previousElementSibling;
                
                if (content.classList.contains('expanded')) {
                    content.classList.remove('expanded');
                    preview.style.display = 'block';
                    button.innerHTML = '📖 Read Full Post';
                    button.className = 'expand-btn';
                } else {
                    content.classList.add('expanded');
                    preview.style.display = 'none';
                    button.innerHTML = '📄 Show Preview';
                    button.className = 'btn-small';
                }
            }

            copyPost(id) {
                const post = this.posts.find(p => p.id === id);
                if (post) {
                    navigator.clipboard.writeText(post.content).then(() => {
                        alert('📋 Post copied to clipboard! Ready to share on LinkedIn.');
                    });
                }
            }

            getPostPreview(content, maxLength = 150) {
                if (content.length <= maxLength) {
                    return { text: content, hasMore: false };
                }
                
                const truncated = content.substring(0, maxLength);
                const lastSpace = truncated.lastIndexOf(' ');
                const text = lastSpace > 0 ? truncated.substring(0, lastSpace) : truncated;
                
                return { text, hasMore: true };
            }

            viewPost(id) {
                const post = this.posts.find(p => p.id === id);
                if (post) {
                    const modalContent = document.getElementById('modalContent');
                    modalContent.innerHTML = `
                        <div style="margin-bottom: 20px; color: #666; font-size: 0.9rem;">
                            📅 Published: ${new Date(post.createdAt).toLocaleDateString()}
                        </div>
                        <div style="white-space: pre-line; line-height: 1.7; font-size: 1.1rem; margin-bottom: 30px;">
                            ${post.content}
                        </div>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            ${post.tags.map(tag => `<span class="post-tag">#${tag}</span>`).join('')}
                        </div>
                        <div style="text-align: center; margin-top: 30px;">
                            <button onclick="navigator.clipboard.writeText(\`${post.content.replace(/`/g, '\\`')}\`); alert('Post copied to clipboard!')" class="cta-button">📋 Copy Post</button>
                        </div>
                    `;
                    document.getElementById('postModal').style.display = 'block';
                }
            }

            closeModal() {
                document.getElementById('postModal').style.display = 'none';
            }

            renderTagFilter() {
                const allTags = [...new Set(this.posts.flatMap(post => post.tags))];
                const tagFilter = document.getElementById('tagFilter');
                
                tagFilter.innerHTML = `
                    <button class="tag-btn ${this.currentFilter === 'all' ? 'active' : ''}" onclick="blog.handleTagFilter('all')">All</button>
                    ${allTags.map(tag => `
                        <button class="tag-btn ${this.currentFilter === tag ? 'active' : ''}" onclick="blog.handleTagFilter('${tag}')">${tag}</button>
                    `).join('')}
                `;
            }

            updateStats() {
                document.getElementById('blogStats').innerHTML = `
                    📝 Posts: ${this.posts.length} | 🏷️ Tags: ${[...new Set(this.posts.flatMap(post => post.tags))].length}
                `;
            }

            loadPosts() {
                const saved = localStorage.getItem('healthcareBlogPosts');
                return saved ? JSON.parse(saved) : [];
            }

            savePosts() {
                localStorage.setItem('healthcareBlogPosts', JSON.stringify(this.posts));
            }
        }

        // Initialize the blog
        const blog = new HealthcareBlog();

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Form submission with Netlify Forms
        document.querySelector('.contact-form').addEventListener('submit', function(e) {
            // Let Netlify handle the form submission naturally
            // The form will redirect to a thank you page or show success message
            
            // Optional: Show loading state
            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            // Re-enable button after a delay (in case of errors)
            setTimeout(() => {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 3000);
        });

        // Add some interactive animations
        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.zIndex = '10';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.zIndex = '1';
            });
        });
    </script>
</body>
</html>